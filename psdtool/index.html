<!DOCTYPE html>
<html lang="ja">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>PSDTool</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Roboto+Condensed:700'>
<link href="css/3rd.min.css" rel="stylesheet">
<link href="css/main.css" rel="stylesheet">

<body>
	<div id="file-open-ui" class="container">
		<div class="row">
			<div class="col-sm-8 text-nowrap">
				<h1>
					PSDTool
					<small>Photoshop 形式のファイルを読み込む奴</small>
				</h1>
			</div>
			<div class="col-sm-4 text-nowrap psdtool-header">
				<a href="manual.html" target="manual" class="btn btn-default">説明書</a>
				<a href="https://docs.google.com/forms/d/1JUpD_i4e1-lR1CbeE_Lf_83jYGfzVNYg1Bjjn3hOAIw/viewform?entry.484637404=%E4%B8%8D%E5%85%B7%E5%90%88%E3%81%8C%E3%81%82%E3%81%A3%E3%81%9F&entry.1692870994" target="report" class="btn btn-default">報告フォーム</a>
			</div>
		</div>
		<div id="error-report-ui" class="row">
			<div class="col-xs-12">
				<div id="error-message" class="alert alert-danger" role="alert"></div>
			</div>
		</div>
		<div class="row psdtool-loading">
			<div class="col-sm-6">
				<div class="panel panel-primary">
					<div class="panel-heading">
						<h2 class="panel-title">ファイルを選択して開く</h2>
					</div>
					<div class="panel-body">
						<div id="dropzone">
							<p>
								<input type="file" accept=".psd,.zip">
							</p>
							<p><small>
								ここに <a href="manual.html#supported-filetype" target="manual">PSD ファイル</a> や <a href="manual.html#supported-filetype-zip" target="manual">ZIP ファイル</a> をドラッグ＆ドロップしても読み込めます。
							</small></p>
							<dl id="additional-options">
								<dt>オプション <small><a href="manual.html#feature-options" target="manual">詳細</a></small></dt>
								<dd class="checkbox">
									<label for="option-auto-trim">
										<input type="checkbox" id="option-auto-trim"> 自動トリミング
									</label>
								</dd>
								<dd class="checkbox">
									<label for="option-safe-mode">
										<input type="checkbox" id="option-safe-mode"> 独自拡張機能を無効化
									</label>
								</dd>
							</dl>
						</div>
					</div>
				</div>
			</div>
			<div class="col-sm-6">
				<div class="panel panel-default">
					<div class="panel-heading">
						<h2 class="panel-title">サンプルファイルで試す</h2>
					</div>
					<div class="panel-body">
						<div id="try-sample">
							<img src="img/sample.png" width="140" height="240" class="psdtool-sampleimg img-thumbnail pull-left" alt="">
							<p>
								<button class="btn btn-default" id="samplefile" data-filename="img/im5467479.psd">サンプルファイルで試す</button>
							</p>
							<small>
								<p>
									この PSD ファイルは<a href="img/im5467479.psd">こちらからダウンロードできます</a>。このファイルは「<a href="manual.html#original-feature-asterisk" target="manual">ラジオボタン化</a>」「<a href="manual.html#original-feature-exclamation" target="manual">強制表示化</a>」「<a href="manual.html#original-feature-flip" target="manual">反転レイヤー指定</a>」を使用したサンプルになっています。
								</p>
								<p>
									こちらのイラストは <a href="https://twitter.com/hrowl" target="_blank">水梟る</a>さんの「<a href="http://seiga.nicovideo.jp/seiga/im5467479" target="_blank">さとうささら立ち絵集5</a>」を許可をいただき使用、再配布させて頂いています。
								</p>
								<p>
									「<a href="http://satosasara.com/" target="_blank">さとうささら</a>」はトーク・ソング対応音声合成ソフトウェア「<a href="http://cevio.jp/" target="_blank">CeVIO Creative Studio</a>」のキャラクターです。
								</p>
							</small>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-sm-6">
				<div class="panel panel-default">
					<div class="panel-heading">
						<h2 class="panel-title">独自拡張機能対応 PSD ファイルを探す</h2>
					</div>
					<div class="panel-body">
						<p>ニコニコ静画には <a href="http://seiga.nicovideo.jp/clip/1704637" target="_blank">PSDTool の独自拡張機能に対応したイラスト</a>が投稿されており、これらは画像編集ソフトで開くよりも快適に操作できます。</p>
						<p>独自拡張機能は<a href="manual.html#original-feature" target="manual">レイヤー名の先頭に１文字加えるだけ</a>で簡単に使えます。</p>
					</div>
				</div>
			</div>
			<div class="col-sm-6">
				<div class="panel panel-default">
					<div class="panel-heading">
						<h2 class="panel-title">AviUtl と「拡張編集」のお供に</h2>
					</div>
					<div class="panel-body">
						<p>
							PSDTool から直接「拡張編集」に画像をドラッグ＆ドロップして読み込むことができるようになるプラグインがあります。
						</p>
						<p>
							ごちゃまぜドロップス | <a href="https://twitter.com/oovch/status/699737247260606465" target="_blank">30秒紹介動画</a> / <a href="https://github.com/oov/aviutl_oledd#readme" target="_blank">README</a> / <a href="https://github.com/oov/aviutl_oledd/releases" target="_blank">ダウンロード</a>
						</p>
					</div>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-xs-12">
				<div class="well text-center">
					<small>
						Created by <a href="https://github.com/oov/PSDTool" target="_blank">oov</a> | Powered by <a href="http://www.gopherjs.org/" target="_blank">GopherJS</a> | Please use a <a href="https://whatbrowser.org/" target="_blank">modern browser</a> | Please listen to <a href="https://www.youtube.com/watch?v=SldjqJz3thA" target="_blank">my song</a>
					</small>
				</div>
			</div>
		</div>
	</div>
	<div id="main" class="split-pane fixed-left">
		<div id="side-container" class="split-pane-component">
			<div id="side-head">
				<button class="btn btn-sm btn-info btn-block psdtool-show-readme" data-toggle="modal" data-target="#readme-dialog">Readme を読む</button>
				<ul id="side-tab" class="nav nav-tabs">
					<li role="presentation" class="active"><a href="#layer-tree-pane" aria-controls="レイヤー" role="tab" data-toggle="tab">レイヤー</a></li>
					<li role="presentation"><a href="#favs-pane" aria-controls="お気に入り" role="tab" data-toggle="tab">お気に入り</a></li>
				</ul>
			</div>
			<div id="side-body">
				<div class="tab-content">
					<div role="tabpanel" class="tab-pane psdtool-tab-pane active" id="layer-tree-pane">
						<ul id="layer-tree"></ul>
						<div id="faview">
							<select class="form-control" id="faview-root-node"></select>
							<ul id="faview-tree"></ul>
						</div>
						<div id="layer-tree-toolbar" class="psdtool-tab-toolbar hidden clearfix">
							<div class="btn-toolbar pull-right" role="toolbar" aria-label="お気に入り編集">
								<div class="btn-group" role="group" aria-label="その他">
									<button type="button" id="show-layer-tree-view" class="btn btn-default btn-sm psdtool-toggle-tree-faview">レイヤーツリーに切り替え</button>
									<button type="button" id="show-faview" class="btn btn-default btn-sm psdtool-toggle-tree-faview">シンプルビューに切り替え</button>
								</div>
							</div>
						</div>
					</div>
					<div role="tabpanel" class="tab-pane psdtool-tab-pane" id="favs-pane">
						<div id="pfv-dropzone2">
							<div id="favorite-tree" data-root-name="お気に入り"></div>
						</div>
						<div id="favorite-toolbar" class="psdtool-tab-toolbar clearfix">
							<div class="btn-toolbar pull-right" role="toolbar" aria-label="お気に入り編集">
								<div class="btn-group" role="group" aria-label="新規">
									<button type="button" class="btn btn-default btn-sm" data-psdtool-tree-add-item="#favorite-tree" title="現在のレイヤー表示をお気に入りに追加(Ctrl + B / Option + B)" data-caption="現在のレイヤー表示をお気に入りに追加"><span class="glyphicon glyphicon-star"></span></button>
									<button type="button" class="btn btn-default btn-sm" data-psdtool-tree-add-folder="#favorite-tree" title="新規フォルダー(Ctrl + D / Option + D)" data-caption="新規フォルダーの追加"><span class="glyphicon glyphicon-folder-open"></span></button>
								</div>
								<div class="btn-group" role="group" aria-label="編集">
									<button type="button" class="btn btn-default btn-sm" data-psdtool-tree-rename="#favorite-tree" title="名前の変更(F2)"><span class="glyphicon glyphicon-pencil"></span></button>
									<button type="button" class="btn btn-default btn-sm" data-psdtool-tree-remove="#favorite-tree" title="削除"><span class="glyphicon glyphicon-remove"></span></button>
								</div>
								<div class="btn-group" role="group" aria-label="その他">
									<div class="btn-group" role="group">
										<button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
											<span class="glyphicon glyphicon-menu-hamburger"></span>
											<span class="caret"></span>
										</button>
										<ul class="dropdown-menu dropdown-menu-right">
											<li><a href="#" data-toggle="modal" data-target="#bulk-create-folder-dialog"><span class="glyphicon glyphicon-folder-open"></span> 一括フォルダー作成</a></li>
											<li><a href="#" data-toggle="modal" data-target="#bulk-rename-dialog"><span class="glyphicon glyphicon-pencil"></span> 一括名前変更</a></li>
											<li role="separator" class="divider"></li>
											<li><a href="#" data-toggle="modal" data-target="#faview-setting-dialog"><span class="glyphicon glyphicon-th-list"></span> シンプルビュー設定</a></li>
											<li role="separator" class="divider"></li>
											<li><a href="#" data-toggle="modal" data-target="#import-dialog"><span class="glyphicon glyphicon-open-file"></span> インポート</a></li>
											<li><a href="#" data-toggle="modal" data-target="#export-dialog"><span class="glyphicon glyphicon-save-file"></span> エクスポート</a></li>
										</ul>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div id="splitter" class="split-pane-divider"></div>
		<div id="main-container" class="split-pane-component">
			<div id="misc-ui">
				<div class="form-inline">
					<div class="form-group psdtool-ui-item">
						<div class="checkbox">
							<label for="flip" class="sr-only">画像の反転</label>
							<select id="flip" class="form-control" title="画像を反転">
								<option value="0">反転なし</option>
								<option value="1">左右反転</option>
								<option value="2">上下反転</option>
								<option value="3">上下左右</option>
							</select>
						</div>
					</div>
					<div class="form-group psdtool-ui-item">
						<label for="fixed-side" class="sr-only">最大ピクセル数を指定する方向</label>
						<select class="form-control" id="fixed-side">
							<option value="h" selected="selected">縦</option>
							<option value="w">横</option>
						</select>
						<div class="input-group">
							<label for="max-pixels" class="sr-only">画像の最大ピクセル数</label>
							<input type="text" class="form-control" id="max-pixels" inputmode="numeric" value="1200" title="このピクセル数に収まるように画像を縮小">
							<div class="input-group-addon input-sm"><small>pxまで</small></div>
						</div>
					</div>
					<div class="form-group psdtool-ui-item">
						<label for="seq-dl-prefix" class="sr-only">ダウンロードファイル名の接頭辞</label>
						<input id="seq-dl-prefix" type="text" class="form-control" value="file_" title="ダウンロードする時のファイル名の接頭辞">
						<label for="seq-dl-num" class="sr-only">ダウンロードファイル名の通し番号</label>
						<input type="number" class="form-control" id="seq-dl-num" inputmode="numeric" value="0" title="ファイルの通し番号">
						<label for="seq-dl" class="sr-only">ファイルをダウンロード</label>
						<button id="seq-dl" class="btn btn-primary" title="PNG 形式で画像を保存">.png</button>
					</div>
				</div>
			</div>
			<div id="preview-container">
				<div id="preview-background">
					<canvas id="preview"></canvas>
					<div id="preview-notice">お気に入りプレビュー中</div>
				</div>
			</div>
		</div>
	</div>

	<div class="modal" id="filter-dialog" tabindex="-1" role="dialog" aria-labelledby="filter-dialog-label">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
					<h4 class="modal-title" id="filter-dialog-label">フィルター</h4>
				</div>
				<div class="modal-body">
					<p><small>お気に入りの適用箇所を絞ることができます。<a href="manual.html#feature-filter" target="manual">詳細</a></small></p>
					<p>
						<label>
							<input type="checkbox" id="use-filter"> フィルター機能を使用する
						</label>
					</p>
					<ul id="filter-tree"></ul>
				</div>
			</div>
		</div>
	</div>

	<div class="modal" id="import-dialog" tabindex="-1" role="dialog" aria-labelledby="import-dialog-label">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
					<h4 class="modal-title" id="import-dialog-label">インポート</h4>
				</div>
				<div class="modal-body">
					<dl>
						<dt>PFV ファイルをインポート</dt>
						<dd>
							<div id="pfv-dropzone">
								<p>
									<input type="file" accept=".pfv">
								</p>
								<p>ここにファイルをドロップしても読み込めます。</p>
							</div>
						</dd>
						<dt>最近使ったお気に入りからインポート</dt>
						<dd>
							<p>色付きのものは現在読み込んでいる PSD ファイルで作成されたお気に入りです。</p>
							<div class="list-group" id="pfv-recents"></div>
						</dd>
					</dl>
				</div>
			</div>
		</div>
	</div>

	<div class="modal" id="export-dialog" tabindex="-1" role="dialog" aria-labelledby="export-dialog-label">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
					<h4 class="modal-title" id="export-dialog-label">エクスポート</h4>
				</div>
				<div class="modal-body">
					<p>
						<button type="button" class="btn btn-default" data-dismiss="modal" id="export-favorites-pfv">PFV ファイルをエクスポート</button>
					</p>
					<p><small>PFV ファイルはお気に入りの情報が記録されたテキストファイルで、「インポート」を使って読み込んだりエディタで開いて直接編集したりできます。</small></p>
					<p>
						<div class="btn-group">
							<button type="button" class="btn btn-default" data-dismiss="modal" id="export-favorites-zip">画像を ZIP ファイルでエクスポート</button>
							<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
								<span class="caret"></span>
								<span class="sr-only">オプション</span>
							</button>
							<ul class="dropdown-menu">
								<li><a href="#" data-dismiss="modal" id="export-favorites-zip-filter-solo">フィルタリングされた項目は残ったパーツのみを出力</a></li>
							</ul>
						</div>
					</p>
					<p><small>PNG ファイルと PFV ファイルを無圧縮の ZIP ファイルに書き出します。パターン数に応じて相応の時間が掛かります。画像には現在の左右反転や縮小などの設定が適用されます。</small></p>
					<p>
						<button type="button" class="btn btn-default" data-dismiss="modal" id="export-layer-structure">レイヤー構造をテキストファイルでエクスポート</button>
					</p>
					<p><small>PSD ファイルのレイヤー構造をタブで整形された UTF-8 テキストファイルとして出力します。これにはお気に入りのデータは一切含まれていません。</small></p>
				</div>
			</div>
		</div>
	</div>

	<div class="modal" id="progress-dialog" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false" aria-labelledby="progress-dialog-label">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="progress-dialog-label">Progress Dialog</h4>
				</div>
				<div class="modal-body">
					<div id="progress-dialog-progress-caption"></div>
					<div class="progress">
						<div id="progress-dialog-progress-bar" class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="modal" id="bulk-create-folder-dialog" tabindex="-1" role="dialog" data-backdrop="static" aria-labelledby="bulk-create-folder-dialog-label">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
					<h4 class="modal-title" id="bulk-create-folder-dialog-label">お気に入りフォルダー作成</h4>
				</div>
				<div class="modal-body">
					<p>
						お気に入りに作成したいフォルダー名を改行で区切って入力してください。
						<br>先頭や末尾のスペース、空行などは無視されます。
					</p>
					<p>
						<textarea id="bulk-create-folder-textarea" class="form-control" rows="8"></textarea>
					</p>
					<button type="button" class="btn btn-primary" data-dismiss="modal" id="bulk-create-folder">フォルダー作成</button>
				</div>
			</div>
		</div>
	</div>

	<div class="modal" id="bulk-rename-dialog" tabindex="-1" role="dialog" data-backdrop="static" aria-labelledby="bulk-rename-dialog-label">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
					<h4 class="modal-title" id="bulk-rename-dialog-label">一括名前変更</h4>
				</div>
				<div class="modal-body">
					<p>
						入力欄を書き換えて「名前を変更」ボタンを押すと変更されます。
						<br> また、入力欄を空欄して名前を変更をすると、上から順番に数字が割り当てられます。
					</p>
					<ul id="bulk-rename-tree"></ul>
					<p class="form-inline">空欄には
						<select id="rename-digits" class="form-control">
							<option value="1">1</option>
							<option value="2" selected>2</option>
							<option value="3">3</option>
							<option value="4">4</option>
						</select>
						桁の数字を
						<input type="number" id="rename-start-number" inputmode="numeric" value="0" class="form-control">
						から順番に割り当て
					</p>
					<button type="button" class="btn btn-primary" data-dismiss="modal" id="bulk-rename">名前を変更</button>
				</div>
			</div>
		</div>
	</div>

	<div class="modal" id="readme-dialog" tabindex="-1" role="dialog" aria-labelledby="readme-dialog-label">
		<div class="modal-dialog modal-lg" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
					<h4 class="modal-title" id="readme-dialog-label">Readme</h4>
				</div>
				<div class="modal-body">
					<pre id="readme"></pre>
				</div>
			</div>
		</div>
	</div>

	<div class="modal" id="faview-setting-dialog" tabindex="-1" role="dialog" aria-labelledby="faview-setting-dialog-label">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
					<h4 class="modal-title" id="faview-setting-dialog-label">シンプルビュー設定</h4>
				</div>
				<div class="modal-body">
					<p><small>
						「シンプルビュー」はレイヤーツリーの代わりに使える、シンプルな切り替え方式の表示形式です。<br>
						これを使用するためにはフィルタリングされたお気に入りを組み立てる必要があります。<a href="manual.html#feature-faview" target="manual">詳細</a>
					</small></p>
					<div class="form-group">
						<label for="faview-mode">シンプルビューが使えるお気に入りデータを読み込んだ時の動作</label>
						<select class="form-control" id="faview-mode">
							<option value="0">レイヤーツリーを表示</option>
							<option value="1">シンプルビューを表示</option>
							<option value="2">シンプルビューを表示 ＋ Readme があれば自動表示</option>
						</select>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha256-KXn5puMvxCw+dAYznun+drMdG1IFl3agK0p/pqT9KAo= sha512-2e8qq0ETcfWRI4HJBzQiA3UoyFk6tbNyG+qSaIBZLyW9Xf3sWZHN/lxe9fTh1U45DpPf07yj94KsUHHWe4Yk1A==" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/mithril/0.2.2-rc.1/mithril.min.js"></script>
	<script src="js/3rd.min.js"></script>
	<script src="js/blend/blend.js"></script>
	<script id="psdgo" src="js/psd/psd.js"></script>
	<script src="js/downscaler.js"></script>
	<script src="js/renderer.js"></script>
	<script src="js/layertree.js"></script>
	<script src="js/favorite.js"></script>
	<script src="js/zipper.js"></script>
	<script src="js/main.js"></script>
</body>

</html>

<!DOCTYPE html>
<html lang="ja">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>PSDTool</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Roboto+Condensed:700'>
<link href="css/3rd.min.css" rel="stylesheet">
<link href="css/main.css" rel="stylesheet">

<body>
	<div id="file-open-ui" class="container">
		<div class="row">
			<div class="col-sm-8 text-nowrap">
				<h1>
					PSDTool
					<small>Photoshop 形式のファイルを読み込む奴</small>
				</h1>
			</div>
			<div class="col-sm-4 text-nowrap psdtool-header">
				<a href="manual.html" target="manual" class="btn btn-default">説明書</a>
				<a href="https://docs.google.com/forms/d/1JUpD_i4e1-lR1CbeE_Lf_83jYGfzVNYg1Bjjn3hOAIw/viewform?entry.484637404=%E4%B8%8D%E5%85%B7%E5%90%88%E3%81%8C%E3%81%82%E3%81%A3%E3%81%9F&entry.1692870994" target="report" class="btn btn-default">報告フォーム</a>
			</div>
		</div>
		<div id="error-report-ui" class="row">
			<div class="col-xs-12">
				<div id="error-message" class="alert alert-danger" role="alert"></div>
			</div>
		</div>
		<div class="row psdtool-loading">
			<div class="col-sm-6">
				<div class="panel panel-primary">
					<div class="panel-heading">
						<h2 class="panel-title">ファイルを選択して開く</h2>
					</div>
					<div class="panel-body">
						<div id="dropzone">
							<p>
								<input type="file" accept=".psd,.zip">
							</p>
							<p><small>
								ここに <a href="manual.html#supported-filetype" target="manual">PSD ファイル</a> や <a href="manual.html#supported-filetype-zip" target="manual">ZIP ファイル</a> をドラッグ＆ドロップしても読み込めます。
							</small></p>
							<dl id="additional-options">
								<dt>オプション <small><a href="manual.html#feature-options" target="manual">詳細</a></small></dt>
								<dd class="checkbox">
									<label for="option-auto-trim">
										<input type="checkbox" id="option-auto-trim"> 自動トリミング
									</label>
								</dd>
								<dd class="checkbox">
									<label for="option-safe-mode">
										<input type="checkbox" id="option-safe-mode"> 独自拡張機能を無効化
									</label>
								</dd>
							</dl>
						</div>
					</div>
				</div>
			</div>
			<div class="col-sm-6">
				<div class="panel panel-default">
					<div class="panel-heading">
						<h2 class="panel-title">サンプルファイルで試す</h2>
					</div>
					<div class="panel-body">
						<div id="try-sample">
							<img src="img/sample.png" width="140" height="240" class="psdtool-sampleimg img-thumbnail pull-left" alt="">
							<p>
								<button class="btn btn-default" id="samplefile" data-filename="img/im5467479.psd">サンプルファイルで試す</button>
							</p>
							<small>
								<p>
									サンプルの PSD ファイルは<a href="http://seiga.nicovideo.jp/seiga/im5467479" target="_blank">こちらからダウンロードできます</a>。
								</p>
								<p>
									こちらのイラストは <a href="https://twitter.com/hrowl" target="_blank">水梟る</a>さんの「<a href="http://seiga.nicovideo.jp/seiga/im5467479" target="_blank">さとうささら立ち絵集5</a>」を許可をいただき使用させて頂いています。
								</p>
								<p>
									「<a href="http://satosasara.com/" target="_blank">さとうささら</a>」はトーク・ソング対応音声合成ソフトウェア「<a href="http://cevio.jp/" target="_blank">CeVIO Creative Studio</a>」のキャラクターです。
								</p>
							</small>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-sm-6">
				<div class="panel panel-default">
					<div class="panel-heading">
						<h2 class="panel-title">独自拡張機能対応 PSD ファイルを探す</h2>
					</div>
					<div class="panel-body">
						<p>ニコニコ静画には <a href="http://seiga.nicovideo.jp/clip/1704637" target="_blank">PSDTool の独自拡張機能に対応したイラスト</a>が投稿されており、これらは画像編集ソフトで開くよりも快適に操作できます。</p>
						<p>独自拡張機能は<a href="manual.html#original-feature" target="manual">レイヤー名の先頭に１文字加えるだけ</a>で簡単に使えます。</p>
					</div>
				</div>
			</div>
			<div class="col-sm-6">
				<div class="panel panel-default">
					<div class="panel-heading">
						<h2 class="panel-title">AviUtl と「拡張編集」のお供に</h2>
					</div>
					<div class="panel-body">
						<p>
							PSDTool から直接「拡張編集」に画像をドラッグ＆ドロップして読み込むことができるようになるプラグインがあります。
						</p>
						<p>
							ごちゃまぜドロップス | <a href="https://twitter.com/oovch/status/699737247260606465" target="_blank">30秒紹介動画</a> / <a href="https://github.com/oov/aviutl_oledd#readme" target="_blank">README</a> / <a href="https://github.com/oov/aviutl_oledd/releases" target="_blank">ダウンロード</a>
						</p>
					</div>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-xs-12">
				<div class="well text-center">
					<small>
						Created by <a href="https://github.com/oov/psdtool" target="_blank">oov</a> | Powered by <a href="http://www.gopherjs.org/" target="_blank">GopherJS</a> | Please use a <a href="https://whatbrowser.org/" target="_blank">modern browser</a> | Please listen to <a href="https://www.youtube.com/watch?v=SldjqJz3thA" target="_blank">my song</a>
					</small>
				</div>
			</div>
		</div>
	</div>
	<div id="file-loading-ui" class="container">
		<div class="progress">
			<div id="progress-bar" class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
		</div>
		<div id="progress-caption"></div>
	</div>
	<div id="main" class="split-pane fixed-left">
		<div id="side-container" class="split-pane-component">
			<div id="side-head">
				<button class="btn btn-sm btn-info btn-block" id="show-readme">Readme を読む</button>
				<ul id="side-tab" class="nav nav-tabs">
					<li role="presentation" class="active"><a href="#layer-tree-pane" aria-controls="レイヤー" role="tab" data-toggle="tab">レイヤー</a></li>
					<li role="presentation"><a href="#favs-pane" aria-controls="お気に入り" role="tab" data-toggle="tab">お気に入り</a></li>
				</ul>
			</div>
			<div id="side-body">
				<div class="tab-content">
					<div role="tabpanel" class="tab-pane active" id="layer-tree-pane">
						<ul id="layer-tree"></ul>
					</div>
					<div role="tabpanel" class="tab-pane" id="favs-pane">
						<div id="pfv-dropzone2">
							<div id="favorite-tree" data-root-name="お気に入り"></div>
						</div>
						<div id="favorite-toolbar" class="clearfix">
							<div class="btn-toolbar pull-right" role="toolbar" aria-label="お気に入り編集">
								<div class="btn-group" role="group" aria-label="新規">
									<button type="button" class="btn btn-default btn-sm" data-psdtool-tree-add-item="#favorite-tree" title="現在のレイヤー表示をお気に入りに追加(Ctrl + B / Option + B)" data-caption="現在のレイヤー表示をお気に入りに追加"><span class="glyphicon glyphicon-star"></span></button>
									<button type="button" class="btn btn-default btn-sm" data-psdtool-tree-add-folder="#favorite-tree" title="新規フォルダー(Ctrl + D / Option + D)" data-caption="新規フォルダーの追加"><span class="glyphicon glyphicon-folder-open"></span></button>
								</div>
								<div class="btn-group" role="group" aria-label="編集">
									<button type="button" class="btn btn-default btn-sm" data-psdtool-tree-rename="#favorite-tree" title="名前の変更(F2)"><span class="glyphicon glyphicon-pencil"></span></button>
									<button type="button" class="btn btn-default btn-sm" data-psdtool-tree-remove="#favorite-tree" title="削除"><span class="glyphicon glyphicon-remove"></span></button>
								</div>
								<div class="btn-group" role="group" aria-label="その他">
									<div class="btn-group" role="group">
										<button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
											<span class="glyphicon glyphicon-menu-hamburger"></span>
											<span class="caret"></span>
										</button>
										<ul class="dropdown-menu dropdown-menu-right">
											<li><a href="#" data-toggle="modal" data-target="#import-dialog"><span class="glyphicon glyphicon-open-file"></span> インポート</a></li>
											<li><a href="#" data-toggle="modal" data-target="#export-dialog"><span class="glyphicon glyphicon-save-file"></span> エクスポート</a></li>
										</ul>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div id="splitter" class="split-pane-divider"></div>
		<div id="main-container" class="split-pane-component">
			<div id="misc-ui">
				<div class="form-inline">
					<div class="form-group psdtool-ui-item">
						<div class="checkbox">
							<label for="invert-input">
								<input id="invert-input" type="checkbox"> 左右反転
							</label>
						</div>
					</div>
					<div class="form-group psdtool-ui-item">
						<label for="fixed-side">縮小</label>
						<select class="form-control" id="fixed-side">
							<option value="h" selected="selected">縦</option>
							<option value="w">横</option>
						</select>
						<div class="input-group">
							<div class="input-group-addon">最大</div>
							<input type="text" class="form-control" id="max-pixels" inputmode="numeric" value="1200">
							<div class="input-group-addon">px</div>
						</div>
					</div>
					<div class="form-group psdtool-ui-item">
						<label for="seq-dl-prefix">連番DL</label>
						<input id="seq-dl-prefix" type="text" class="form-control" value="file_">
						<label class="sr-only" for="seq-dl-num">番号</label>
						<input type="number" class="form-control" id="seq-dl-num" inputmode="numeric" value="0">
						<button id="seq-dl" class="btn btn-primary">.png</button>
					</div>
				</div>
			</div>
			<div id="preview-container">
				<div id="preview-background">
					<canvas id="preview"></canvas>
					<div id="preview-notice">お気に入りプレビュー中</div>
				</div>
			</div>
		</div>
	</div>

	<div class="modal" id="import-dialog" tabindex="-1" role="dialog" aria-labelledby="import-dialog-label">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
					<h4 class="modal-title" id="import-dialog-label">お気に入りのインポート</h4>
				</div>
				<div class="modal-body">
					<dl>
						<dt>PFV ファイルをインポート</dt>
						<dd>
							<div id="pfv-dropzone">
								<p>
									<input type="file" accept=".pfv">
								</p>
								<p>ここにファイルをドロップしても読み込めます。</p>
							</div>
						</dd>
						<dt>最近使ったお気に入りからインポート</dt>
						<dd>
							<p>色付きのものは現在読み込んでいる PSD ファイルで作成されたお気に入りです。</p>
							<div class="list-group" id="pfv-recents"></div>
						</dd>
					</dl>
				</div>
			</div>
		</div>
	</div>

	<div class="modal" id="export-dialog" tabindex="-1" role="dialog" aria-labelledby="export-dialog-label">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
					<h4 class="modal-title" id="export-dialog-label">お気に入りのエクスポート</h4>
				</div>
				<div class="modal-body">
					<p>
						<button type="button" class="btn btn-default" data-dismiss="modal" id="export-favorites-pfv">PFV ファイルをエクスポート</button>
					</p>
					<p><small>PFV ファイルはお気に入りの情報が記録されたテキストファイルで、「インポート」を使って読み込んだりエディタで開いて直接編集したりできます。</small></p>
					<p>
						<button type="button" class="btn btn-default" data-dismiss="modal" id="export-favorites-zip">画像を ZIP ファイルでエクスポート</button>
					</p>
					<p><small>PNG ファイルと PFV ファイルを無圧縮の ZIP ファイルに書き出します。パターン数に応じて相応の時間が掛かります。画像には現在の左右反転や縮小などの設定が適用されます。</small></p>
				</div>
			</div>
		</div>
	</div>

	<div class="modal" id="export-progress-dialog" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false" data-show="false" aria-labelledby="export-progress-dialog-label">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="export-progress-dialog-label">エクスポートデータの作成中...</h4>
				</div>
				<div class="modal-body">
					<div id="export-progress-dialog-progress-caption"></div>
					<div class="progress">
						<div id="export-progress-dialog-progress-bar" class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha256-KXn5puMvxCw+dAYznun+drMdG1IFl3agK0p/pqT9KAo= sha512-2e8qq0ETcfWRI4HJBzQiA3UoyFk6tbNyG+qSaIBZLyW9Xf3sWZHN/lxe9fTh1U45DpPf07yj94KsUHHWe4Yk1A==" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/mithril/0.2.2-rc.1/mithril.min.js"></script>
	<script src="js/3rd.min.js"></script>
	<script src="js/blend/blend.js"></script>
	<script id="psdgo" src="js/psd/psd.js"></script>
	<script src="js/downscaler.js"></script>
	<script src="js/renderer.js"></script>
	<script src="js/zipper.js"></script>
	<script src="js/main.js"></script>
</body>

</html>
